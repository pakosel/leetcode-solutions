using System.Text;
using NUnit.Framework;
using System.Linq;
using System.Collections.Generic;
using Common;

namespace SplitArrayLargestSum
{
    [TestFixture]
    public class SolutionTest
    {
        private static readonly object[] testCases =
        {
            new object[] { "[7,2,5,10,8]", 2, 18 },
            new object[] { "[1,2,3,4,5]", 2, 9 },
            new object[] { "[1,4,4]", 3, 4 },
            new object[] { "[7,2,5,10,8]", 1, 32 },
            new object[] { "[7,2,5,10,8]", 5, 10 },
            new object[] { "[6705, 1139, 7963, 9252, 7751, 7329, 8953, 1840, 2489, 371, 2924, 6153, 2339, 8808, 2538, 1463, 920, 8757, 1790, 7535, 2261, 268, 3994, 110, 1217, 6588, 7696, 611, 699, 7849, 2085, 1500, 4566, 1986, 4808, 4488, 7096, 9223, 8255, 1362, 7576, 2918, 6546, 1288, 1164, 4158, 5764, 7403, 842, 4144, 4678, 8189, 823, 3609, 982, 7303, 4443, 8447, 8410, 1775, 3002, 7361, 1510, 7815, 7330, 8907, 1042, 5368, 2382, 7541, 8264, 1093, 1104, 2973, 7808, 1456, 7225, 2298, 8978, 9418, 6048, 9894, 972, 5299, 1097, 5294, 8002, 3767, 3970, 5236, 2405, 442, 1446, 9515, 1179, 2332, 9195, 6909, 7185, 4035,5641, 3860, 742, 739, 141, 3538, 4151, 1421, 1984, 473, 7190, 275, 4127, 4414, 6172, 769, 9653, 7610, 9831, 7339, 8824, 6584, 3816, 5639, 2558, 6221, 5001, 3281, 6876, 4291, 6697, 5058, 7512, 2062, 2515, 1417, 1213, 4049, 1408, 701, 7372, 6935, 3060, 4373, 5043, 7014, 6134, 1139, 1138, 9484, 9472, 4712, 6400, 1983, 818, 5712, 8784, 3500, 5232, 8999, 8196, 971, 2311, 1441, 2449, 5145, 9342, 5048, 5246, 5784, 1745, 5911, 6353, 3537, 4380, 884, 8636, 3466, 9647, 2583, 9598, 2973, 7672, 7057, 6713, 8392, 7978, 813, 3271, 5785, 186, 8983, 5684, 9725, 6701, 3187, 6756, 7118, 5132, 621,7445, 4853, 345, 1734, 9352, 5750, 5433, 4748, 118, 835, 4425, 2187, 4735, 3675, 5643, 6863, 45, 1824, 3232, 9287, 4414, 7563, 1132, 2126, 5199, 3080, 9306, 7014, 2284, 3974, 4942, 4263, 9274, 2267, 6306, 6243, 4089, 1914, 2133, 5874, 1474, 3044, 182, 2177, 311, 6571, 1660, 5248, 585, 1209, 6405, 9685, 7034, 5234, 7296, 781, 1251, 5217, 8848, 8424, 7497, 9856, 6402, 8229, 2518, 2372, 8845, 8899, 3506, 1774, 1415, 8495, 3990, 3662, 8956, 5543, 1151, 3023, 2668, 5947, 7717, 6978, 4323, 5928, 1120, 8238, 4489, 7585, 4061, 6707, 8656, 856, 8067, 7405, 2363, 2707, 3494, 6912, 4903, 866,162, 1776, 4705, 787, 4226, 6164, 5067, 5189, 7349, 6488, 5622, 1613, 7979, 6187, 5006, 8566, 7831, 2930, 3890, 7565, 5643, 9880, 7561, 6800, 7921, 9694, 8157, 8220, 241, 2804, 9849, 897, 7035, 7214, 7135, 7082, 3514, 9914, 6426, 8164, 9209, 3760, 2980, 3010, 9805, 3235, 6402, 3910, 96, 4753, 7451, 2887, 5719, 3605, 3292, 658, 2244, 1250, 8175, 2260, 6580, 2928, 547, 7522, 1777, 4940, 1118, 8710, 5704, 7624, 9579, 31, 5221, 2446, 8537, 5035, 6438, 6150, 3451, 1712, 4849, 4468, 2644, 6529, 8192, 6225, 9497, 7668, 1646, 680, 4636, 5804, 9027, 7625, 6075, 3731, 8245, 1647, 8080, 6883,9818, 7970, 1448, 7354, 3234, 2302, 8864, 6542, 6535, 9872, 7627, 5515, 1421, 5916, 8961, 4799, 6647, 5178, 8811, 6494, 7101, 3276, 4923, 4038, 7890, 3863, 7092, 4720, 1358, 2767, 4626, 3871, 6016, 1608, 5779, 1350, 3611, 7661, 9961, 860, 5454, 3150, 5763, 5667, 8574, 9440, 4918, 6793, 6968, 1957, 1280, 8323, 2097, 1074, 9963, 444, 4025, 1092, 6908, 2522, 7802, 6337, 4735, 6260, 5350, 5037, 2750, 5586, 8505, 1129, 3741, 3397, 2352, 373, 6841, 5378, 5907, 8321, 805, 6694, 736, 5101, 7536, 9500, 3098, 2773, 529, 7427, 7698, 9189, 1800, 9240, 3651, 3318, 8378, 5800, 4486, 5630, 8739, 4028,6200, 9549, 6477, 468, 1051, 2608, 6864, 671, 8376, 4843, 9817, 8569, 6256, 5767, 9427, 5602, 4562, 8881, 9099, 143, 3300, 6040, 821, 2176, 2523, 4692, 3805, 1172, 2893, 9904, 3850, 4261, 3212, 8878, 9457, 2487, 1949, 6843, 8074, 7030, 3890, 6943, 827, 4382, 3820, 855, 7617, 3008, 9604, 8171, 9542, 7597, 1948, 4122, 9794, 3689, 4853, 7375, 7640, 9479, 6661, 5692, 4794, 2503, 8067, 1219, 7665, 12, 7148, 7014, 9185, 6142, 8997, 3625, 5074, 7867, 5642, 7723, 6937, 4220, 8285, 3605, 8111, 2478, 7063, 7841, 8475, 3476, 8776, 558, 6198, 7500, 8441, 7181, 6860, 9512, 9126, 1249, 8763, 6165,410, 5297, 9175, 6783, 754, 97, 5328, 1903, 599, 2240, 407, 3975, 4349, 5315, 2234, 3431, 2189, 1190, 9647, 1157, 2251, 9152, 4311, 7245, 3660, 7050, 2581, 4511, 6227, 3189, 9264, 4026, 5526, 7783, 499, 2947, 1216, 5875, 9751, 1197, 9959, 3385, 6976, 2068, 5047, 8445, 476, 2129, 4498, 2940, 2018, 8144, 475, 4189, 3024, 5070, 794, 6465, 4940, 5283, 4785, 1923, 9316, 8436, 4489, 9448, 662, 5622, 9218, 2847, 6739, 2276, 2000, 4203, 1419, 3828, 6699, 9561, 6318, 6123, 6199, 9932, 4755, 8657, 8350, 721, 6944, 9352, 9738, 8025, 180, 6729, 3643, 1145, 4715, 3222, 6089, 343, 2734, 176,8852, 1708, 3797, 6802, 781, 8765, 1272, 3676, 7261, 9868, 6815, 8841, 8911, 9790, 5573, 6699, 4286, 6014, 6971, 3555, 1700, 5077, 4030, 3260, 8662, 5740, 5493, 8548, 5204, 2546, 5021, 4667, 2343, 5876, 8746, 2550, 4467, 7755, 816, 65, 8004, 4194, 5084, 4095, 286, 7826, 1185, 9120, 3567, 1166, 9820, 1424, 3858, 6533, 4389, 1428, 4706, 6720, 3745, 3135, 386, 9674, 9519, 8901, 6212, 6901, 4905, 6526, 3663, 1606, 1554, 3753, 6646, 727, 5610, 7727, 2703, 7185, 3652, 7489, 936, 9528, 2563, 7195, 5821, 4379, 2829, 8860, 9255, 2419, 9758, 7198, 5060, 6554, 6634, 5746, 2604, 5289, 7645, 7939,3621, 6708, 5281, 4216, 2707, 4418, 4843, 4657, 5520, 1020, 3723, 1461, 7485, 1433, 2475, 3441, 9461, 3789, 877, 2493, 1362, 2108, 567, 3514, 3125, 3683, 8576, 7374, 6287, 8019, 6162, 1078, 3611, 1053, 7453, 770, 5905, 3594, 6619, 2093, 101, 5927, 3692, 509, 8537, 5018, 8406, 8564, 7971, 9723, 1959, 6040, 2184, 3138, 2791, 8741, 6283, 3689, 1309, 2574, 4230, 7359, 1580, 9773, 7193, 8228, 8372, 728, 1969, 5504, 3950, 8234, 826, 4593, 6529, 51, 1989, 3896, 4889, 9776, 4170, 6963, 7775, 3470, 344, 6810, 8855, 125, 8614, 2160, 3827, 6308, 7614, 88, 2714, 916, 6047, 3891, 44, 1813,4784, 2660, 8818, 6370, 9381, 9754, 709, 630, 512, 3771, 3513, 4293, 9285, 706, 4302, 4176, 3158, 2212, 294, 7529, 6074, 5043, 4917, 6947, 9469, 4092, 7227, 1824, 8840, 1746, 6092, 8524, 6674, 2889, 5401, 605, 2082, 533, 45, 5038, 5260, 3140, 3446, 6986, 3318, 7387, 6361, 9321, 8603, 9201, 8274, 9364, 1825, 5491, 3365, 3379, 1697, 3333, 8551, 3962, 6869, 4431, 7970, 6329, 9448, 7328, 8001, 4634, 3096, 1230, 8219, 43, 9404, 6159, 564, 4100, 3438, 7780, 6682, 8042, 7920, 1226, 3722, 2673, 8912, 5990, 6636, 4069, 4530, 4257, 3015, 5682, 1009, 786, 2259, 5438, 3054, 5365, 7150, 1204]", 50, 101947 },
            new object[] { "[6705, 1139, 7963, 9252, 7751, 7329, 8953, 1840, 2489, 371, 2924, 6153, 2339, 8808, 2538, 1463, 920, 8757, 1790, 7535, 2261, 268, 3994, 110, 1217, 6588, 7696, 611, 699, 7849, 2085, 1500, 4566, 1986, 4808, 4488, 7096, 9223, 8255, 1362, 7576, 2918, 6546, 1288, 1164, 4158, 5764, 7403, 842, 4144, 4678, 8189, 823, 3609, 982, 7303, 4443, 8447, 8410, 1775, 3002, 7361, 1510, 7815, 7330, 8907, 1042, 5368, 2382, 7541, 8264, 1093, 1104, 2973, 7808, 1456, 7225, 2298, 8978, 9418, 6048, 9894, 972, 5299, 1097, 5294, 8002, 3767, 3970, 5236, 2405, 442, 1446, 9515, 1179, 2332, 9195, 6909, 7185, 4035,5641, 3860, 742, 739, 141, 3538, 4151, 1421, 1984, 473, 7190, 275, 4127, 4414, 6172, 769, 9653, 7610, 9831, 7339, 8824, 6584, 3816, 5639, 2558, 6221, 5001, 3281, 6876, 4291, 6697, 5058, 7512, 2062, 2515, 1417, 1213, 4049, 1408, 701, 7372, 6935, 3060, 4373, 5043, 7014, 6134, 1139, 1138, 9484, 9472, 4712, 6400, 1983, 818, 5712, 8784, 3500, 5232, 8999, 8196, 971, 2311, 1441, 2449, 5145, 9342, 5048, 5246, 5784, 1745, 5911, 6353, 3537, 4380, 884, 8636, 3466, 9647, 2583, 9598, 2973, 7672, 7057, 6713, 8392, 7978, 813, 3271, 5785, 186, 8983, 5684, 9725, 6701, 3187, 6756, 7118, 5132, 621,7445, 4853, 345, 1734, 9352, 5750, 5433, 4748, 118, 835, 4425, 2187, 4735, 3675, 5643, 6863, 45, 1824, 3232, 9287, 4414, 7563, 1132, 2126, 5199, 3080, 9306, 7014, 2284, 3974, 4942, 4263, 9274, 2267, 6306, 6243, 4089, 1914, 2133, 5874, 1474, 3044, 182, 2177, 311, 6571, 1660, 5248, 585, 1209, 6405, 9685, 7034, 5234, 7296, 781, 1251, 5217, 8848, 8424, 7497, 9856, 6402, 8229, 2518, 2372, 8845, 8899, 3506, 1774, 1415, 8495, 3990, 3662, 8956, 5543, 1151, 3023, 2668, 5947, 7717, 6978, 4323, 5928, 1120, 8238, 4489, 7585, 4061, 6707, 8656, 856, 8067, 7405, 2363, 2707, 3494, 6912, 4903, 866,162, 1776, 4705, 787, 4226, 6164, 5067, 5189, 7349, 6488, 5622, 1613, 7979, 6187, 5006, 8566, 7831, 2930, 3890, 7565, 5643, 9880, 7561, 6800, 7921, 9694, 8157, 8220, 241, 2804, 9849, 897, 7035, 7214, 7135, 7082, 3514, 9914, 6426, 8164, 9209, 3760, 2980, 3010, 9805, 3235, 6402, 3910, 96, 4753, 7451, 2887, 5719, 3605, 3292, 658, 2244, 1250, 8175, 2260, 6580, 2928, 547, 7522, 1777, 4940, 1118, 8710, 5704, 7624, 9579, 31, 5221, 2446, 8537, 5035, 6438, 6150, 3451, 1712, 4849, 4468, 2644, 6529, 8192, 6225, 9497, 7668, 1646, 680, 4636, 5804, 9027, 7625, 6075, 3731, 8245, 1647, 8080, 6883,9818, 7970, 1448, 7354, 3234, 2302, 8864, 6542, 6535, 9872, 7627, 5515, 1421, 5916, 8961, 4799, 6647, 5178, 8811, 6494, 7101, 3276, 4923, 4038, 7890, 3863, 7092, 4720, 1358, 2767, 4626, 3871, 6016, 1608, 5779, 1350, 3611, 7661, 9961, 860, 5454, 3150, 5763, 5667, 8574, 9440, 4918, 6793, 6968, 1957, 1280, 8323, 2097, 1074, 9963, 444, 4025, 1092, 6908, 2522, 7802, 6337, 4735, 6260, 5350, 5037, 2750, 5586, 8505, 1129, 3741, 3397, 2352, 373, 6841, 5378, 5907, 8321, 805, 6694, 736, 5101, 7536, 9500, 3098, 2773, 529, 7427, 7698, 9189, 1800, 9240, 3651, 3318, 8378, 5800, 4486, 5630, 8739, 4028,6200, 9549, 6477, 468, 1051, 2608, 6864, 671, 8376, 4843, 9817, 8569, 6256, 5767, 9427, 5602, 4562, 8881, 9099, 143, 3300, 6040, 821, 2176, 2523, 4692, 3805, 1172, 2893, 9904, 3850, 4261, 3212, 8878, 9457, 2487, 1949, 6843, 8074, 7030, 3890, 6943, 827, 4382, 3820, 855, 7617, 3008, 9604, 8171, 9542, 7597, 1948, 4122, 9794, 3689, 4853, 7375, 7640, 9479, 6661, 5692, 4794, 2503, 8067, 1219, 7665, 12, 7148, 7014, 9185, 6142, 8997, 3625, 5074, 7867, 5642, 7723, 6937, 4220, 8285, 3605, 8111, 2478, 7063, 7841, 8475, 3476, 8776, 558, 6198, 7500, 8441, 7181, 6860, 9512, 9126, 1249, 8763, 6165,410, 5297, 9175, 6783, 754, 97, 5328, 1903, 599, 2240, 407, 3975, 4349, 5315, 2234, 3431, 2189, 1190, 9647, 1157, 2251, 9152, 4311, 7245, 3660, 7050, 2581, 4511, 6227, 3189, 9264, 4026, 5526, 7783, 499, 2947, 1216, 5875, 9751, 1197, 9959, 3385, 6976, 2068, 5047, 8445, 476, 2129, 4498, 2940, 2018, 8144, 475, 4189, 3024, 5070, 794, 6465, 4940, 5283, 4785, 1923, 9316, 8436, 4489, 9448, 662, 5622, 9218, 2847, 6739, 2276, 2000, 4203, 1419, 3828, 6699, 9561, 6318, 6123, 6199, 9932, 4755, 8657, 8350, 721, 6944, 9352, 9738, 8025, 180, 6729, 3643, 1145, 4715, 3222, 6089, 343, 2734, 176,8852, 1708, 3797, 6802, 781, 8765, 1272, 3676, 7261, 9868, 6815, 8841, 8911, 9790, 5573, 6699, 4286, 6014, 6971, 3555, 1700, 5077, 4030, 3260, 8662, 5740, 5493, 8548, 5204, 2546, 5021, 4667, 2343, 5876, 8746, 2550, 4467, 7755, 816, 65, 8004, 4194, 5084, 4095, 286, 7826, 1185, 9120, 3567, 1166, 9820, 1424, 3858, 6533, 4389, 1428, 4706, 6720, 3745, 3135, 386, 9674, 9519, 8901, 6212, 6901, 4905, 6526, 3663, 1606, 1554, 3753, 6646, 727, 5610, 7727, 2703, 7185, 3652, 7489, 936, 9528, 2563, 7195, 5821, 4379, 2829, 8860, 9255, 2419, 9758, 7198, 5060, 6554, 6634, 5746, 2604, 5289, 7645, 7939,3621, 6708, 5281, 4216, 2707, 4418, 4843, 4657, 5520, 1020, 3723, 1461, 7485, 1433, 2475, 3441, 9461, 3789, 877, 2493, 1362, 2108, 567, 3514, 3125, 3683, 8576, 7374, 6287, 8019, 6162, 1078, 3611, 1053, 7453, 770, 5905, 3594, 6619, 2093, 101, 5927, 3692, 509, 8537, 5018, 8406, 8564, 7971, 9723, 1959, 6040, 2184, 3138, 2791, 8741, 6283, 3689, 1309, 2574, 4230, 7359, 1580, 9773, 7193, 8228, 8372, 728, 1969, 5504, 3950, 8234, 826, 4593, 6529, 51, 1989, 3896, 4889, 9776, 4170, 6963, 7775, 3470, 344, 6810, 8855, 125, 8614, 2160, 3827, 6308, 7614, 88, 2714, 916, 6047, 3891, 44, 1813,4784, 2660, 8818, 6370, 9381, 9754, 709, 630, 512, 3771, 3513, 4293, 9285, 706, 4302, 4176, 3158, 2212, 294, 7529, 6074, 5043, 4917, 6947, 9469, 4092, 7227, 1824, 8840, 1746, 6092, 8524, 6674, 2889, 5401, 605, 2082, 533, 45, 5038, 5260, 3140, 3446, 6986, 3318, 7387, 6361, 9321, 8603, 9201, 8274, 9364, 1825, 5491, 3365, 3379, 1697, 3333, 8551, 3962, 6869, 4431, 7970, 6329, 9448, 7328, 8001, 4634, 3096, 1230, 8219, 43, 9404, 6159, 564, 4100, 3438, 7780, 6682, 8042, 7920, 1226, 3722, 2673, 8912, 5990, 6636, 4069, 4530, 4257, 3015, 5682, 1009, 786, 2259, 5438, 3054, 5365, 7150, 1204]", 7, 708050 },
        };

        [Test]
        [TestCaseSource("testCases")]
        public void Test_Generic(string numsStr, int m, int expected)
        {
            var nums = ArrayHelper.ArrayFromString<int>(numsStr);

            var sol = new Solution();
            var res = sol.SplitArray(nums, m);

            Assert.AreEqual(expected, res);
        }
    }
}