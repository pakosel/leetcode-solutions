using System.Text;
using NUnit.Framework;
using System.Linq;
using System.Collections.Generic;
using Common;

namespace CourseScheduleIII
{
    [TestFixture]
    public class SolutionTest
    {
        private static readonly object[] testCasesStr =
        {
            new object[] {"[[1,2],[2,3]]", 2},
            new object[] {"[[100,200],[200,1300],[1000,1250],[2000,3200]]", 3},
            new object[] {"[[1,2]]", 1},
            new object[] {"[[3,2],[4,3]]", 0},
            new object[] {"[[185,827],[85,634],[64,718],[8,957],[535,904],[259,333],[693,914],[240,563],[326,907],[429,507]]", 6},
            new object[] {"[[185,827],[85,634],[560,402],[64,718],[8,957],[535,904],[339,143],[259,333],[693,914],[919,20],[641,604],[594,62],[240,563],[326,907],[429,507]]", 6},
            new object[] {"[[185,827],[85,634],[560,402],[64,718],[8,957],[535,904],[339,143],[259,333],[693,914],[919,20],[641,604],[594,62],[240,563],[320,333],[752,610],[635,379],[326,907],[429,507]]", 6},
            new object[] {"[[928,20],[229,757],[985,59],[597,99],[841,885],[882,830],[185,827],[85,634],[560,402],[64,718],[8,957],[535,904],[339,143],[259,333],[693,914],[919,20],[641,604],[594,62],[240,563],[320,333],[752,610],[635,379],[326,907],[429,507]]", 6},
            new object[] {"[[832,718],[894,838],[829,611],[21,99],[25,994],[906,242],[753,155],[928,20],[229,757],[985,59],[597,99],[841,885],[882,830],[185,827],[85,634],[560,402],[64,718],[8,957],[535,904],[339,143],[259,333],[693,914],[919,20],[641,604],[594,62],[240,563],[320,333],[752,610],[635,379],[326,907],[429,507]]", 8},
            new object[] {"[[589,402],[713,599],[856,524],[834,235],[688,786],[234,615],[3,624],[638,897],[202,946],[722,177],[556,486],[590,52],[874,60],[550,45],[891,725],[212,882],[471,397],[17,926],[433,148],[356,216],[678,474],[529,918],[913,836],[594,62],[760,393],[41,344],[804,755],[832,718],[894,838],[829,611],[21,99],[25,994],[906,242],[753,155],[928,20],[229,757],[985,59],[597,99],[841,885],[882,830],[185,827],[85,634],[560,402],[64,718],[8,957],[535,904],[339,143],[259,333],[858,792],[60,127],[401,439],[794,457],[693,185],[146,100],[338,34],[172,588],[873,637],[818,88],[693,914],[919,20],[641,604],[594,62],[240,563],[320,333],[752,610],[635,379],[326,907],[429,507],[800,412],[625,629],[595,292],[754,766],[890,930],[853,481],[603,570],[361,890],[886,334],[779,217],[359,754],[335,181],[13,487],[603,968],[821,446],[431,925],[759,216],[839,392],[148,177],[983,821],[283,627],[363,680],[21,696],[408,874],[56,250],[483,138],[130,657],[992,765],[979,409],[785,850],[355,788],[828,370]]", 15},
        };

        [Test]
        [TestCaseSource("testCasesStr")]
        public void Test_Generic(string coursesStr, int expected)
        {
            var courses = ArrayHelper.MatrixFromString<int>(coursesStr);

            var sol = new Solution();
            var res = sol.ScheduleCourse(courses);

            Assert.That(expected == res);
        }
    }
}